(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{6510:function(e,t,s){Promise.resolve().then(s.bind(s,4536))},4536:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(3827),l=s(4090),r=s(1654);function n(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[o,u]=(0,l.useState)(""),[c,x]=(0,l.useState)(""),[m,b]=(0,l.useState)(!1),[g,p]=(0,l.useState)(null),[h,f]=(0,l.useState)(null);async function N(a){a.preventDefault(),b(!0),p(null),f(null);try{let{error:a}=await r.Z.from("leads").insert([{full_name:e,email:s,phone:i,state:o,loan_purpose:c,source:"fetti-crm-apply"}]);if(a)throw a;p("Lead submitted! You can see it instantly on the Leads tab."),t(""),n(""),d(""),u(""),x("")}catch(e){var l;console.error(e),f(null!==(l=e.message)&&void 0!==l?l:"Failed to submit lead")}finally{b(!1)}}return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:(0,a.jsxs)("div",{className:"w-full max-w-lg rounded-2xl border border-slate-800 bg-slate-900/80 p-6 shadow-lg",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold tracking-tight",children:"Fetti CRM Lead Capture"}),(0,a.jsxs)("p",{className:"mt-1 text-xs text-slate-400",children:["Simple public lead form that writes directly into your Supabase",(0,a.jsx)("code",{className:"ml-1",children:"leads"})," table."]}),(0,a.jsxs)("form",{onSubmit:N,className:"mt-4 grid gap-3",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300",children:"Full name"}),(0,a.jsx)("input",{required:!0,value:e,onChange:e=>t(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fetti-green"})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300",children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,value:s,onChange:e=>n(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fetti-green"})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300",children:"Phone"}),(0,a.jsx)("input",{value:i,onChange:e=>d(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fetti-green"})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300",children:"State"}),(0,a.jsx)("input",{value:o,onChange:e=>u(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fetti-green"})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-xs text-slate-300",children:"Loan purpose"}),(0,a.jsx)("input",{value:c,onChange:e=>x(e.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fetti-green"})]}),g&&(0,a.jsx)("div",{className:"rounded-lg border border-emerald-700 bg-emerald-900/40 px-3 py-2 text-xs text-emerald-200",children:g}),h&&(0,a.jsx)("div",{className:"rounded-lg border border-red-700 bg-red-900/40 px-3 py-2 text-xs text-red-200",children:h}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"mt-2 rounded-lg bg-fetti-green px-3 py-2 text-sm font-semibold text-black hover:bg-emerald-300",children:m?"Submitting...":"Submit lead"})]})]})})}},1654:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var a=s(140);let l="https://hgnpxdivozbmjagmshda.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnbnB4ZGl2b3pibWphZ21zaGRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NjQxODksImV4cCI6MjA3OTQ0MDE4OX0.aj6Va10UNNUUYQzNQfqA2ErUD_UvleR9I8klptAKIZU";if(!l||!r)throw Error("Missing Supabase environment variables. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.");let n=(0,a.eI)(l,r);t.Z=n}},function(e){e.O(0,[140,971,69,744],function(){return e(e.s=6510)}),_N_E=e.O()}]);