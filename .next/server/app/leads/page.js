(()=>{var e={};e.id=429,e.ids=[429],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3096:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6794)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/leads/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,429)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,7984)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/leads/page.tsx"],p="/leads/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/leads/page",pathname:"/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3079:(e,t,s)=>{Promise.resolve().then(s.bind(s,748))},424:()=>{},8020:(e,t,s)=>{Promise.resolve().then(s.bind(s,7464))},5432:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5303:()=>{},748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(5344);function a({error:e,reset:t}){return console.error(e),r.jsx("html",{children:(0,r.jsxs)("body",{style:{fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif",padding:"2rem",background:"#020617",color:"#e5e7eb"},children:[r.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"FETTI CRM – Something went wrong"}),r.jsx("p",{style:{opacity:.8},children:"If this keeps happening, call JR."}),r.jsx("pre",{style:{marginTop:"1rem",padding:"1rem",background:"#0f172a",borderRadius:"0.5rem",whiteSpace:"pre-wrap",fontSize:"0.85rem"},children:e?.message}),r.jsx("button",{onClick:()=>t(),style:{marginTop:"1rem",padding:"8px 16px",borderRadius:"999px",border:"none",background:"#16a34a",color:"#ffffff",fontWeight:600,cursor:"pointer"},children:"Try again"})]})})}},7464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5344),a=s(3729),n=s(4173);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=!0;async function s(){i(!0),d(null);let{data:s,error:r}=await n.O.from("leads").select("id, created_at, full_name, email, phone, state, loan_purpose, credit_band, stage, source").order("created_at",{ascending:!1}).limit(200);e&&(r?(console.error(r),d(r.message)):s&&t(s),i(!1))}s();let r=n.O.channel("leads-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"leads"},()=>{s()}).subscribe();return()=>{e=!1,n.O.removeChannel(r)}},[]),s)?r.jsx("div",{className:"text-sm text-slate-400",children:"Loading leads..."}):l?(0,r.jsxs)("div",{className:"rounded-lg border border-red-700 bg-red-900/40 px-3 py-2 text-xs text-red-200",children:["Failed to load leads: ",l]}):e.length?r.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-800 bg-slate-900/60",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs",children:[r.jsx("thead",{className:"border-b border-slate-800 bg-slate-900/80 text-slate-300",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-3 py-2",children:"Created"}),r.jsx("th",{className:"px-3 py-2",children:"Name"}),r.jsx("th",{className:"px-3 py-2",children:"Email"}),r.jsx("th",{className:"px-3 py-2",children:"Phone"}),r.jsx("th",{className:"px-3 py-2",children:"State"}),r.jsx("th",{className:"px-3 py-2",children:"Purpose"}),r.jsx("th",{className:"px-3 py-2",children:"Credit"}),r.jsx("th",{className:"px-3 py-2",children:"Stage"}),r.jsx("th",{className:"px-3 py-2",children:"Source"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800",children:e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-slate-900",children:[r.jsx("td",{className:"px-3 py-2 text-slate-400",children:e.created_at?new Date(e.created_at).toLocaleString():"—"}),r.jsx("td",{className:"px-3 py-2",children:e.full_name??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.email??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.phone??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.state??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.loan_purpose??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.credit_band??"—"}),r.jsx("td",{className:"px-3 py-2",children:e.stage??"New Lead"}),r.jsx("td",{className:"px-3 py-2",children:e.source??"generated"})]},e.id))})]})}):r.jsx("div",{className:"text-sm text-slate-400",children:"No leads yet. Connect your Fetti LeadGen app or use the Apply page to submit a test lead."})}},4173:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,Z:()=>l});var r=s(7276);let a="https://hgnpxdivozbmjagmshda.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnbnB4ZGl2b3pibWphZ21zaGRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NjQxODksImV4cCI6MjA3OTQ0MDE4OX0.aj6Va10UNNUUYQzNQfqA2ErUD_UvleR9I8klptAKIZU";if(!a||!n)throw Error("Missing Supabase environment variables. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.");let i=(0,r.eI)(a,n),l=i},429:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/error.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var r=s(5036);s(7272);let a={title:"Fetti CRM",description:"Fetti - We Do Money."};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray-50 text-gray-900",children:e})})}},6794:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5036);let a=(0,s(6843).createProxy)(String.raw`/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/components/LeadTable.tsx`),{__esModule:n,$$typeof:i}=a,l=a.default;function d(){return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"All Leads"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-slate-400",children:["Live view of leads from your Supabase ",r.jsx("code",{children:"leads"})," table."]})]}),r.jsx(l,{})]})}},7984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(5036);function a(){return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 text-gray-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:"/fetti-logo.png",alt:"Fetti",className:"h-32 w-32 rounded-2xl bg-white p-4 shadow-xl"}),r.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-gray-600 border-t-green-500 animate-spin"}),r.jsx("h1",{className:"text-2xl font-bold mt-2 tracking-wide",children:"Fetti CRM"}),r.jsx("p",{className:"text-sm text-gray-400",children:"We Do Money…"})]})})}},4697:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/svg+xml",sizes:"any",url:(0,r.fillMetadataSegment)(".",e.params,"icon.svg")+"?015fd748d5edf901"}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,356,337,276],()=>s(3096));module.exports=r})();