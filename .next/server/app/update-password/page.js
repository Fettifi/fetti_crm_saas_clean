(()=>{var e={};e.id=910,e.ids=[910],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1730:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),o=s(8300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["update-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9490)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/update-password/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,429)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,7984)),"/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,4697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/update-password/page.tsx"],p="/update-password/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/update-password/page",pathname:"/update-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3079:(e,t,s)=>{Promise.resolve().then(s.bind(s,748))},424:()=>{},8231:(e,t,s)=>{Promise.resolve().then(s.bind(s,7012))},5432:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5303:()=>{},748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(5344);function a({error:e,reset:t}){return console.error(e),r.jsx("html",{children:(0,r.jsxs)("body",{style:{fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif",padding:"2rem",background:"#020617",color:"#e5e7eb"},children:[r.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:"FETTI CRM – Something went wrong"}),r.jsx("p",{style:{opacity:.8},children:"If this keeps happening, call JR."}),r.jsx("pre",{style:{marginTop:"1rem",padding:"1rem",background:"#0f172a",borderRadius:"0.5rem",whiteSpace:"pre-wrap",fontSize:"0.85rem"},children:e?.message}),r.jsx("button",{onClick:()=>t(),style:{marginTop:"1rem",padding:"8px 16px",borderRadius:"999px",border:"none",background:"#16a34a",color:"#ffffff",fontWeight:600,cursor:"pointer"},children:"Try again"})]})})}},7012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5344),a=s(3729),n=s(4767),i=s(4173);function o(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(!0),[p,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(null);async function f(s){if(s.preventDefault(),u(null),x(null),t.length<8){u("Password must be at least 8 characters.");return}if(t!==o){u("Passwords do not match.");return}try{let{data:s,error:r}=await i.O.auth.updateUser({password:t});if(r){console.error("Update password error:",r),u(r.message||"Could not update password.");return}x("Password updated. Redirecting to login…"),setTimeout(()=>{e.replace("/login")},1500)}catch(e){console.error(e),u("Unexpected error updating password.")}}return((0,a.useEffect)(()=>{let e=!0;return async function(){let{data:t,error:s}=await i.O.auth.getSession();e&&((s||!t.session)&&u("Your reset link may have expired or is invalid. Please request a new one."),c(!1))}(),()=>{e=!1}},[]),d)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100",children:"Checking your reset link…"}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 text-slate-100",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-2xl border border-slate-800 bg-slate-900/90 px-8 py-10 shadow-xl",children:[r.jsx("h1",{className:"text-lg font-semibold mb-1",children:"Choose a new password"}),r.jsx("p",{className:"text-xs text-slate-400 mb-5",children:"Enter and confirm your new password for Fetti CRM."}),p&&r.jsx("div",{className:"mb-4 rounded-md bg-red-900/30 border border-red-500/60 px-3 py-2 text-xs text-red-200",children:p}),m&&r.jsx("div",{className:"mb-4 rounded-md bg-emerald-900/30 border border-emerald-500/60 px-3 py-2 text-xs text-emerald-200",children:m}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-slate-300",children:"New password"}),r.jsx("input",{type:"password",required:!0,value:t,onChange:e=>s(e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fettiGreen focus:ring-1 focus:ring-fettiGreen",placeholder:"••••••••"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("label",{className:"text-xs text-slate-300",children:"Confirm password"}),r.jsx("input",{type:"password",required:!0,value:o,onChange:e=>l(e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-950 px-3 py-2 text-sm outline-none focus:border-fettiGreen focus:ring-1 focus:ring-fettiGreen",placeholder:"••••••••"})]}),r.jsx("button",{type:"submit",className:"mt-2 w-full rounded-lg bg-fettiGreen px-3 py-2 text-sm font-medium text-slate-950 hover:bg-lime-300",children:"Save new password"})]})]})})}},4173:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,Z:()=>o});var r=s(7276);let a="https://hgnpxdivozbmjagmshda.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnbnB4ZGl2b3pibWphZ21zaGRhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4NjQxODksImV4cCI6MjA3OTQ0MDE4OX0.aj6Va10UNNUUYQzNQfqA2ErUD_UvleR9I8klptAKIZU";if(!a||!n)throw Error("Missing Supabase environment variables. Set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY.");let i=(0,r.eI)(a,n),o=i},429:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/error.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var r=s(5036);s(7272);let a={title:"Fetti CRM",description:"Fetti - We Do Money."};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"bg-gray-50 text-gray-900",children:e})})}},7984:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(5036);function a(){return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-900 text-gray-100",children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("img",{src:"/fetti-logo.png",alt:"Fetti",className:"h-32 w-32 rounded-2xl bg-white p-4 shadow-xl"}),r.jsx("div",{className:"h-10 w-10 rounded-full border-4 border-gray-600 border-t-green-500 animate-spin"}),r.jsx("h1",{className:"text-2xl font-bold mt-2 tracking-wide",children:"Fetti CRM"}),r.jsx("p",{className:"text-sm text-gray-400",children:"We Do Money…"})]})})}},9490:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/fetti/Desktop/fetti_crm_saas_clean_fresh/app/update-password/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},4697:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(337);let a=e=>[{type:"image/svg+xml",sizes:"any",url:(0,r.fillMetadataSegment)(".",e.params,"icon.svg")+"?015fd748d5edf901"}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,356,337,276],()=>s(1730));module.exports=r})();